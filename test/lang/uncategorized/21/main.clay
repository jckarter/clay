import printer.(println);
import sharedpointers.*;

record Foo (
    value:Int
);

override Foo() = Foo(0);

override Foo(value:Int) --> returned:Foo {
    returned.value = value;
    println("constructed value = ", returned.value);
}

override Foo(f:Foo) = Foo(f.value);

override destroy(f:Foo) {
    println("destroyed value = ", f.value);
}

main() {
    var p = new(Foo(10));
    var q = new(Foo());
    println("assigning");
    q = p;
    println("assigned");
}
